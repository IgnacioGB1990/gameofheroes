{"id":"lib/protectRoute.hoc.js","dependencies":[{"name":"/Users/ignaciogarciabarrerogiurgiu/Desktop/Ironhack/Deberes/Modulo 3/Marc/webdev-pt-1019/react-auth-complete/front/.babelrc","includedInParent":true,"mtime":1585905562575},{"name":"/Users/ignaciogarciabarrerogiurgiu/Desktop/Ironhack/Deberes/Modulo 3/Marc/webdev-pt-1019/react-auth-complete/front/package.json","includedInParent":true,"mtime":1585905562577},{"name":"react","loc":{"line":1,"column":18},"parent":"/Users/ignaciogarciabarrerogiurgiu/Desktop/Ironhack/Deberes/Modulo 3/Marc/webdev-pt-1019/react-auth-complete/front/lib/protectRoute.hoc.js","resolved":"/Users/ignaciogarciabarrerogiurgiu/Desktop/Ironhack/Deberes/Modulo 3/Marc/webdev-pt-1019/react-auth-complete/front/node_modules/react/index.js"},{"name":"./auth.api","loc":{"line":2,"column":42},"parent":"/Users/ignaciogarciabarrerogiurgiu/Desktop/Ironhack/Deberes/Modulo 3/Marc/webdev-pt-1019/react-auth-complete/front/lib/protectRoute.hoc.js","resolved":"/Users/ignaciogarciabarrerogiurgiu/Desktop/Ironhack/Deberes/Modulo 3/Marc/webdev-pt-1019/react-auth-complete/front/lib/auth.api.js"},{"name":"react-router-dom","loc":{"line":4,"column":25},"parent":"/Users/ignaciogarciabarrerogiurgiu/Desktop/Ironhack/Deberes/Modulo 3/Marc/webdev-pt-1019/react-auth-complete/front/lib/protectRoute.hoc.js","resolved":"/Users/ignaciogarciabarrerogiurgiu/Desktop/Ironhack/Deberes/Modulo 3/Marc/webdev-pt-1019/react-auth-complete/front/node_modules/react-router-dom/esm/react-router-dom.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.withProtected = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _auth = require(\"./auth.api\");\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//https://reacttraining.com/react-router/web/guides/quick-start\nvar ProtectedPagePlaceholder = function ProtectedPagePlaceholder() {\n  return _react.default.createElement(\"div\", null, \"PROTECTED PAGE\");\n}; // This is a HOC -> High Order Component\n\n\nvar withProtected = function withProtected(Component) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$redirect = _ref.redirect,\n      redirect = _ref$redirect === void 0 ? true : _ref$redirect,\n      _ref$redirectTo = _ref.redirectTo,\n      redirectTo = _ref$redirectTo === void 0 ? \"/auth/login\" : _ref$redirectTo;\n\n  return (// options are always present\n    function (props) {\n      var user = (0, _auth.useUser)();\n      var isUserLoading = (0, _auth.useUserIsLoading)();\n\n      if (user) {\n        // If we have a user, then render the component\n        return _react.default.createElement(Component, null);\n      } else {\n        // If the user auth backend is loading (because there's no user yet) render the placeholder\n        if (isUserLoading) return _react.default.createElement(ProtectedPagePlaceholder, null);else {\n          // If the auth has been completed and there is no user then redirect or render placehoder\n          // depending on choosen option\n          if (redirect) {\n            return _react.default.createElement(_reactRouterDom.Redirect, {\n              to: redirectTo\n            });\n          } else {\n            return _react.default.createElement(ProtectedPagePlaceholder, null);\n          }\n        }\n      }\n    }\n  );\n};\n\nexports.withProtected = withProtected;"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":8,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":1,"column":0}},{"generated":{"line":10,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":2,"column":0}},{"generated":{"line":12,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":4,"column":0}},{"generated":{"line":16,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":3,"column":0}},{"generated":{"line":17,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":6,"column":0}},{"name":"ProtectedPagePlaceholder","generated":{"line":17,"column":4},"source":"lib/protectRoute.hoc.js","original":{"line":6,"column":6}},{"generated":{"line":17,"column":28},"source":"lib/protectRoute.hoc.js","original":{"line":6,"column":30}},{"generated":{"line":17,"column":31},"source":"lib/protectRoute.hoc.js","original":{"line":6,"column":33}},{"name":"ProtectedPagePlaceholder","generated":{"line":17,"column":40},"source":"lib/protectRoute.hoc.js","original":{"line":6,"column":6}},{"generated":{"line":17,"column":64},"source":"lib/protectRoute.hoc.js","original":{"line":6,"column":33}},{"generated":{"line":18,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":6,"column":33}},{"generated":{"line":18,"column":9},"source":"lib/protectRoute.hoc.js","original":{"line":6,"column":39}},{"generated":{"line":18,"column":68},"source":"lib/protectRoute.hoc.js","original":{"line":6,"column":33}},{"generated":{"line":19,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":6,"column":33}},{"generated":{"line":19,"column":1},"source":"lib/protectRoute.hoc.js","original":{"line":6,"column":0}},{"generated":{"line":19,"column":3},"source":"lib/protectRoute.hoc.js","original":{"line":8,"column":0}},{"generated":{"line":22,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":7}},{"name":"withProtected","generated":{"line":22,"column":4},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":13}},{"generated":{"line":22,"column":17},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":26}},{"generated":{"line":22,"column":20},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":29}},{"name":"withProtected","generated":{"line":22,"column":29},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":13}},{"generated":{"line":22,"column":42},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":29}},{"name":"Component","generated":{"line":22,"column":43},"source":"lib/protectRoute.hoc.js","original":{"line":10,"column":2}},{"generated":{"line":22,"column":52},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":29}},{"generated":{"line":23,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":29}},{"generated":{"line":23,"column":81},"source":"lib/protectRoute.hoc.js","original":{"line":11,"column":52}},{"generated":{"line":23,"column":83},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":29}},{"generated":{"line":24,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":29}},{"name":"redirect","generated":{"line":24,"column":27},"source":"lib/protectRoute.hoc.js","original":{"line":11,"column":4}},{"generated":{"line":24,"column":35},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":29}},{"generated":{"line":25,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":29}},{"name":"redirect","generated":{"line":25,"column":6},"source":"lib/protectRoute.hoc.js","original":{"line":11,"column":4}},{"generated":{"line":25,"column":14},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":29}},{"generated":{"line":25,"column":44},"source":"lib/protectRoute.hoc.js","original":{"line":11,"column":15}},{"generated":{"line":25,"column":48},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":29}},{"generated":{"line":26,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":29}},{"name":"redirectTo","generated":{"line":26,"column":29},"source":"lib/protectRoute.hoc.js","original":{"line":11,"column":21}},{"generated":{"line":26,"column":39},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":29}},{"generated":{"line":27,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":29}},{"name":"redirectTo","generated":{"line":27,"column":6},"source":"lib/protectRoute.hoc.js","original":{"line":11,"column":21}},{"generated":{"line":27,"column":16},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":29}},{"generated":{"line":27,"column":48},"source":"lib/protectRoute.hoc.js","original":{"line":11,"column":34}},{"generated":{"line":27,"column":61},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":29}},{"generated":{"line":29,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":29}},{"generated":{"line":29,"column":9},"source":"lib/protectRoute.hoc.js","original":{"line":11,"column":55}},{"generated":{"line":30,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":12,"column":5}},{"name":"props","generated":{"line":30,"column":14},"source":"lib/protectRoute.hoc.js","original":{"line":12,"column":5}},{"generated":{"line":30,"column":19},"source":"lib/protectRoute.hoc.js","original":{"line":12,"column":10}},{"generated":{"line":30,"column":21},"source":"lib/protectRoute.hoc.js","original":{"line":12,"column":14}},{"generated":{"line":31,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":13,"column":2}},{"name":"user","generated":{"line":31,"column":10},"source":"lib/protectRoute.hoc.js","original":{"line":13,"column":8}},{"generated":{"line":31,"column":14},"source":"lib/protectRoute.hoc.js","original":{"line":13,"column":12}},{"generated":{"line":31,"column":17},"source":"lib/protectRoute.hoc.js","original":{"line":13,"column":15}},{"generated":{"line":31,"column":37},"source":"lib/protectRoute.hoc.js","original":{"line":13,"column":2}},{"generated":{"line":32,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":14,"column":2}},{"name":"isUserLoading","generated":{"line":32,"column":10},"source":"lib/protectRoute.hoc.js","original":{"line":14,"column":8}},{"generated":{"line":32,"column":23},"source":"lib/protectRoute.hoc.js","original":{"line":14,"column":21}},{"generated":{"line":32,"column":26},"source":"lib/protectRoute.hoc.js","original":{"line":14,"column":24}},{"generated":{"line":32,"column":55},"source":"lib/protectRoute.hoc.js","original":{"line":14,"column":2}},{"generated":{"line":34,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":16,"column":2}},{"name":"user","generated":{"line":34,"column":10},"source":"lib/protectRoute.hoc.js","original":{"line":16,"column":6}},{"generated":{"line":34,"column":14},"source":"lib/protectRoute.hoc.js","original":{"line":16,"column":2}},{"generated":{"line":34,"column":16},"source":"lib/protectRoute.hoc.js","original":{"line":16,"column":12}},{"generated":{"line":35,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":17,"column":4}},{"generated":{"line":36,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":18,"column":4}},{"generated":{"line":36,"column":15},"source":"lib/protectRoute.hoc.js","original":{"line":18,"column":11}},{"generated":{"line":36,"column":44},"source":"lib/protectRoute.hoc.js","original":{"line":18,"column":12}},{"generated":{"line":36,"column":53},"source":"lib/protectRoute.hoc.js","original":{"line":18,"column":11}},{"generated":{"line":36,"column":60},"source":"lib/protectRoute.hoc.js","original":{"line":18,"column":4}},{"generated":{"line":37,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":19,"column":3}},{"generated":{"line":37,"column":7},"source":"lib/protectRoute.hoc.js","original":{"line":16,"column":2}},{"generated":{"line":37,"column":13},"source":"lib/protectRoute.hoc.js","original":{"line":19,"column":9}},{"generated":{"line":38,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":20,"column":4}},{"generated":{"line":39,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":21,"column":4}},{"name":"isUserLoading","generated":{"line":39,"column":12},"source":"lib/protectRoute.hoc.js","original":{"line":21,"column":8}},{"generated":{"line":39,"column":25},"source":"lib/protectRoute.hoc.js","original":{"line":21,"column":4}},{"generated":{"line":39,"column":27},"source":"lib/protectRoute.hoc.js","original":{"line":21,"column":23}},{"generated":{"line":39,"column":34},"source":"lib/protectRoute.hoc.js","original":{"line":21,"column":30}},{"generated":{"line":39,"column":63},"source":"lib/protectRoute.hoc.js","original":{"line":21,"column":31}},{"generated":{"line":39,"column":87},"source":"lib/protectRoute.hoc.js","original":{"line":21,"column":30}},{"generated":{"line":39,"column":94},"source":"lib/protectRoute.hoc.js","original":{"line":21,"column":23}},{"generated":{"line":39,"column":95},"source":"lib/protectRoute.hoc.js","original":{"line":21,"column":4}},{"generated":{"line":39,"column":100},"source":"lib/protectRoute.hoc.js","original":{"line":22,"column":9}},{"generated":{"line":40,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":23,"column":6}},{"generated":{"line":41,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":24,"column":6}},{"generated":{"line":42,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":25,"column":6}},{"name":"redirect","generated":{"line":42,"column":14},"source":"lib/protectRoute.hoc.js","original":{"line":25,"column":10}},{"generated":{"line":42,"column":22},"source":"lib/protectRoute.hoc.js","original":{"line":25,"column":6}},{"generated":{"line":42,"column":24},"source":"lib/protectRoute.hoc.js","original":{"line":25,"column":20}},{"generated":{"line":43,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":26,"column":8}},{"generated":{"line":43,"column":19},"source":"lib/protectRoute.hoc.js","original":{"line":26,"column":15}},{"generated":{"line":43,"column":48},"source":"lib/protectRoute.hoc.js","original":{"line":26,"column":16}},{"generated":{"line":43,"column":72},"source":"lib/protectRoute.hoc.js","original":{"line":26,"column":15}},{"generated":{"line":44,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":26,"column":25}},{"generated":{"line":44,"column":14},"source":"lib/protectRoute.hoc.js","original":{"line":26,"column":25}},{"generated":{"line":44,"column":16},"source":"lib/protectRoute.hoc.js","original":{"line":26,"column":27}},{"name":"redirectTo","generated":{"line":44,"column":18},"source":"lib/protectRoute.hoc.js","original":{"line":26,"column":29}},{"generated":{"line":45,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":26,"column":15}},{"generated":{"line":45,"column":14},"source":"lib/protectRoute.hoc.js","original":{"line":26,"column":8}},{"generated":{"line":46,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":27,"column":7}},{"generated":{"line":46,"column":11},"source":"lib/protectRoute.hoc.js","original":{"line":25,"column":6}},{"generated":{"line":46,"column":17},"source":"lib/protectRoute.hoc.js","original":{"line":27,"column":13}},{"generated":{"line":47,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":28,"column":8}},{"generated":{"line":47,"column":19},"source":"lib/protectRoute.hoc.js","original":{"line":28,"column":15}},{"generated":{"line":47,"column":48},"source":"lib/protectRoute.hoc.js","original":{"line":28,"column":16}},{"generated":{"line":47,"column":72},"source":"lib/protectRoute.hoc.js","original":{"line":28,"column":15}},{"generated":{"line":47,"column":79},"source":"lib/protectRoute.hoc.js","original":{"line":28,"column":8}},{"generated":{"line":48,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":29,"column":7}},{"generated":{"line":49,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":30,"column":5}},{"generated":{"line":50,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":31,"column":3}},{"generated":{"line":51,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":32,"column":1}},{"generated":{"line":52,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":29}},{"generated":{"line":53,"column":0},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":29}},{"generated":{"line":53,"column":1},"source":"lib/protectRoute.hoc.js","original":{"line":9,"column":7}}],"sources":{"lib/protectRoute.hoc.js":"import React from \"react\";\nimport { useUser, useUserIsLoading } from \"./auth.api\";\n//https://reacttraining.com/react-router/web/guides/quick-start\nimport { Redirect } from \"react-router-dom\";\n\nconst ProtectedPagePlaceholder = () => <div>PROTECTED PAGE</div>;\n\n// This is a HOC -> High Order Component\nexport const withProtected = (\n  Component,\n  { redirect = true, redirectTo = \"/auth/login\" } = {} // options are always present\n) => props => {\n  const user = useUser();\n  const isUserLoading = useUserIsLoading();\n\n  if (user) {\n    // If we have a user, then render the component\n    return <Component />;\n  } else {\n    // If the user auth backend is loading (because there's no user yet) render the placeholder\n    if (isUserLoading) return <ProtectedPagePlaceholder />;\n    else {\n      // If the auth has been completed and there is no user then redirect or render placehoder\n      // depending on choosen option\n      if (redirect) {\n        return <Redirect to={redirectTo} />;\n      } else {\n        return <ProtectedPagePlaceholder />;\n      }\n    }\n  }\n};\n"},"lineCount":null}},"error":null,"hash":"ed1313381aaed709ddf91d8e1202b83d","cacheData":{"env":{}}}